{"version":3,"sources":["pages/NavBarGeneral.js","store/store.js","store/storeApi.js","utils/useWeb3.js","pages/Home.js","pages/NavBarLandlord.js","pages/CreateLease.js","pages/NavBarTenant.js","pages/ViewLeases.js","pages/Tenant.js","pages/Landlord.js","pages/ViewOwnerLease.js","pages/GetDoorCode.js","App.js","index.js"],"names":["NavBarGeneral","className","href","to","StoreContext","createContext","initialState","message","balance","address","tokenBalance","reducer","state","action","type","Error","StoreProvider","children","useReducer","dispatch","Provider","value","useStoreApi","useContext","setAddress","newAddress","setBalance","newBalance","settokenBalance","newTokenBalance","useWeb3","useState","web3","setWeb3","useEffect","instance","window","ethereum","Web3","error","console","provider","HttpProvider","myContract","require","Home","history","useHistory","getUserAccount","a","enable","eth","getAccounts","then","accounts","updateBalance","updateTokenBalance","alert","fromAddress","getBalance","utils","fromWei","tokenInst","Contract","leaseTokenAbi","lease_token_contract_address","methods","balanceOf","call","token_balance","Button","onClick","variant","color","Link","push","NavBarOwner","CreateLease","createLease","e","preventDefault","name","target","house_addr","lease_time","price","contract","abi","contract_address","uid","uuid","send","from","onSubmit","TextField","required","label","inputProps","step","style","margin","NavBarTenant","ViewLeases","web3js","final_arr_object","setArr","listLease","id","promises","arr_object","listAllLeaseIds","forEach","leaseId","getLeaseData","lease_info","new_object","landlordName","home_addr","timestamp","Promise","all","done","makePayment","map","object","lease_expiry","Math","pow","TenantPage","LandlordPage","ViewOwnerLeases","listOwnerLease","listLandlordLeaseIds","array","setDoorCode","lease_id","door_code","giveDoorCode","GetDoorCode","tenant_uid","getDoorCode","tenants","res1","App","exact","path","Tenant","Landlord","ViewOwnerLease","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6f359a93.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst NavBarGeneral  = () => {\r\n    return ( \r\n     <nav className=\"navbar\">\r\n         <h1>House Lease</h1>\r\n         <div className=\"links\">\r\n         <a href=\"/\">Home</a>\r\n         \r\n         <Link to=\"/aboutUs\">About Us</Link>\r\n         <Link to=\"/Contact\">Contact</Link>\r\n         </div>\r\n\r\n         </nav>\r\n     \r\n\r\n\r\n     );\r\n}\r\n \r\nexport default NavBarGeneral ;","import React, { useReducer, useContext, createContext } from \"react\";\r\n\r\nconst StoreContext = createContext();\r\nconst initialState = {\r\n  message: \"\",\r\n  balance: 0,\r\n  address: null,\r\n  tokenBalance:0\r\n\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"NEW-ADDRESS\":\r\n      return {\r\n        ...state,\r\n        address: action.address,\r\n        message: action.message\r\n      };\r\n    case \"SET-BALANCE\":\r\n      return {\r\n        ...state,\r\n        balance: action.balance\r\n      };\r\n    case \"SET-TOKEN-BALANCE\":\r\n      return {\r\n        ...state,\r\n        tokenBalance: action.tokenBalance\r\n      };\r\n    default:\r\n      throw new Error(`Unknown type of action: ${action.type}`);\r\n  }\r\n};\r\n\r\nexport const StoreProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  return (\r\n    <StoreContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </StoreContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useStore = () => useContext(StoreContext);\r\n","import { useStore } from \"./store\";\r\n\r\nexport const useStoreApi = () => {\r\n  const { state, dispatch } = useStore();\r\n\r\n  return {\r\n    balance: state.balance,\r\n    address: state.address,\r\n    message: state.message,\r\n    tokenBalance:state.tokenBalance,\r\n    setAddress: newAddress => {\r\n      dispatch({\r\n        type: \"NEW-ADDRESS\",\r\n        address: newAddress,\r\n        message: \"New address added successfully!\"\r\n      });\r\n    },\r\n    setBalance: newBalance => {\r\n      dispatch({\r\n        type: \"SET-BALANCE\",\r\n        balance: newBalance\r\n      });\r\n    },\r\n    settokenBalance: newTokenBalance => {\r\n      dispatch({\r\n        type: \"SET-TOKEN-BALANCE\",\r\n        tokenBalance: newTokenBalance\r\n      });\r\n    }\r\n  };\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport Web3 from \"web3\";\r\n\r\nconst useWeb3 = () => {\r\n  const [web3, setWeb3] = useState(null);\r\n\r\n  useEffect(() => {\r\n    var instance;\r\n    if (window.ethereum) {\r\n      // set up a new provider\r\n      try {\r\n        instance = new Web3(window.ethereum);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    } else if (window.web3) {\r\n      instance = new Web3(window.web3);\r\n    } else {\r\n      // fallback on localhost provider\r\n      const provider = new Web3.provider.HttpProvider(\"http://127.0.0.1:7545\");\r\n      instance = new Web3(provider);\r\n    }\r\n    setWeb3(instance);\r\n  }, []);\r\n  return web3;\r\n};\r\n\r\nexport default useWeb3;\r\n","import { useStoreApi } from \"../store/storeApi\";\r\nimport useWeb3 from \"../utils/useWeb3\";\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport NavBarGeneral from \"./NavBarGeneral\";\r\n\r\nconst myContract=require('../contracts/houseLeaseConfig.json');\r\n\r\n\r\n\r\n\r\nconst Home = () => {\r\n\r\n    const { balance, address, message, setAddress, setBalance,settokenBalance,tokenBalance } = useStoreApi();\r\n    const web3 = useWeb3();\r\n    const history = useHistory();\r\n\r\n    // get user account on button click\r\n  const getUserAccount = async () => {\r\n    if (window.ethereum) {\r\n      try {\r\n        await window.ethereum.enable();\r\n        web3.eth.getAccounts().then(accounts => {\r\n          setAddress(accounts[0]);\r\n          updateBalance(accounts[0]);\r\n          updateTokenBalance(accounts[0]);\r\n          \r\n        });\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    } else {\r\n      alert(\"Metamask extensions not detected!\");\r\n    }\r\n  };\r\n\r\n  const updateBalance = async fromAddress => {\r\n    await web3.eth.getBalance(fromAddress).then(value => {\r\n      setBalance(web3.utils.fromWei(value, \"ether\"));\r\n    });\r\n  };\r\n\r\n  const updateTokenBalance = async fromAddress => {\r\n    const tokenInst = new web3.eth.Contract(myContract.leaseTokenAbi, myContract.lease_token_contract_address);\r\n    const token_balance = await tokenInst.methods.balanceOf(fromAddress).call()\r\n    settokenBalance(web3.utils.fromWei(token_balance, \"ether\"))\r\n  };\r\n\r\n\r\n    return (  \r\n\r\n     <div className=\"home\">\r\n       <NavBarGeneral />\r\n       {address ? (\r\n          <>\r\n            <p> Your account: {address}</p>\r\n            <p> Ether Balance: {balance} </p>\r\n            <p> LTOK Balance: {tokenBalance} </p>\r\n          </>\r\n        ) : null}\r\n       <p> <Button\r\n          onClick={() => getUserAccount()}\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n        >\r\n          Connect your wallet\r\n        </Button></p>\r\n        &nbsp;\r\n        <p><Button \r\n          Link\r\n          onClick={() => history.push('/tenant') }\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n        >\r\n          Tenant\r\n        </Button>\r\n        &nbsp;&nbsp;&nbsp;\r\n        <Button\r\n          onClick={() => history.push('/landlord') }\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          \r\n        >\r\n          HouseOwner\r\n        </Button></p>\r\n     \r\n    </div>\r\n\r\n\r\n\r\n    );\r\n}\r\n \r\nexport default Home;","import { Link } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst NavBarOwner  = () => {\r\n    return ( \r\n     <nav className=\"navbar\">\r\n         <h1>House Lease</h1>\r\n         <div className=\"links\">\r\n         <a href=\"/\">Home</a>\r\n         <Link to=\"/createLease\">Create Lease</Link>\r\n         \r\n         <Link to=\"/viewOwnerLease\">My Leases</Link>\r\n         \r\n         </div>\r\n\r\n         </nav>\r\n     \r\n\r\n\r\n     );\r\n}\r\n\r\n\r\nexport default NavBarOwner ;\r\n","import { useStoreApi } from \"../store/storeApi\";\r\nimport useWeb3 from \"../utils/useWeb3\";\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport NavBarOwner from \"./NavBarLandlord\";\r\n\r\n\r\nimport uuid from \"uuid/v4\";\r\n\r\nconst myContract=require('../contracts/houseLeaseConfig.json');\r\n\r\n\r\nconst CreateLease = () => {\r\n    \r\n    const { balance, address, message, setAddress, setBalance,settokenBalance,tokenBalance } = useStoreApi();\r\n    const web3 = useWeb3();\r\n\r\n    const createLease=async e=>{\r\n    \r\n        e.preventDefault();\r\n        const name=e.target[0].value\r\n        const house_addr=e.target[1].value\r\n        const lease_time=e.target[2].value\r\n        const price=e.target[3].value\r\n        \r\n        //abi and contract address\r\n        var contract=new web3.eth.Contract(myContract.abi,myContract.contract_address)\r\n        const owner_uid=\"3BmVMJhUffhBdL0aOvYuBzngIRp1\"\r\n        \r\n        const uid=uuid()\r\n        \r\n        await contract.methods.createLease(owner_uid,name,house_addr,lease_time,price,uid).send({\r\n        from:address\r\n        })\r\n      \r\n        //updateBalance(address);\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n         //var res1=await contract.methods.getLeaseData(uid).call()\r\n       // console.log(res1)\r\n        \r\n        \r\n        \r\n            \r\n        \r\n        \r\n        }\r\n    \r\n    return (  \r\n\r\n\r\n\r\n        <div className=\"home\">\r\n       <NavBarOwner />\r\n       <form onSubmit={e => createLease(e)}>\r\n         <p> <TextField\r\n            required\r\n            label=\"Name\"\r\n            inputProps={{ step: \"any\" }}\r\n            type=\"text\"\r\n            variant=\"filled\"\r\n          /></p>\r\n          <p><TextField \r\n          required \r\n          label=\"House Address\" \r\n          variant=\"filled\"\r\n          type=\"text\" \r\n          /></p>\r\n          <p><TextField\r\n            required\r\n            label=\"End of lease time\"\r\n            inputProps={{ step: \"any\" }}\r\n            type=\"number\"\r\n            variant=\"filled\"\r\n          /></p>\r\n          <p><TextField \r\n          required \r\n          label=\"Amount of LTOK\" \r\n          variant=\"filled\" \r\n          type=\"number\"\r\n          /></p>\r\n          \r\n          <Button\r\n            style={{ margin: \"10px\" }}\r\n            type=\"submit\"\r\n            variant=\"outlined\"\r\n            color=\"default\"\r\n          >\r\n            Create Lease\r\n          </Button>\r\n        </form>\r\n     \r\n    </div>\r\n\r\n     \r\n\r\n\r\n\r\n\r\n    );\r\n}\r\n \r\nexport default CreateLease;","import { Link } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst NavBarTenant  = () => {\r\n    return ( \r\n     <nav className=\"navbar\">\r\n         <h1>House Lease</h1>\r\n         <div className=\"links\">\r\n         <a href=\"/\">Home</a>\r\n         <Link to=\"/viewLease\">View Leases</Link>\r\n         <Link to=\"/getDoorCode\">Get Door Code</Link>\r\n         \r\n         </div>\r\n\r\n         </nav>\r\n     \r\n\r\n\r\n     );\r\n}\r\n\r\n\r\nexport default NavBarTenant;\r\n","import { useStoreApi } from \"../store/storeApi\";\r\nimport useWeb3 from \"../utils/useWeb3\";\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport {useEffect,useState} from 'react';\r\nimport Web3 from \"web3\";\r\nimport NavBarTenant from \"../pages/NavBarTenant\";\r\n\r\n\r\nimport uuid from \"uuid/v4\";\r\n\r\nconst myContract=require('../contracts/houseLeaseConfig.json');\r\n\r\n\r\nconst ViewLeases = () => {\r\n    \r\n    const { balance, address, message, setAddress, setBalance,settokenBalance,tokenBalance } = useStoreApi();\r\n    const web3js = useWeb3();\r\n    var web3;\r\n    \r\n    const [final_arr_object,setArr]=useState(null);\r\n\r\n    const listLease=async()=>{\r\n\r\n      \r\n    if (window.ethereum) {\r\n      // set up a new provider\r\n      try {\r\n         web3 = new Web3(window.ethereum);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    } else if (window.web3) {\r\n       web3 = new Web3(window.web3);\r\n    }\r\n    \r\n        //abi and contract address\r\n        var contract=new web3.eth.Contract(myContract.abi,myContract.contract_address)\r\n        \r\n       \r\n        \r\n        \r\n        var id=0\r\n        var promises=[];\r\n        var arr_object=[];\r\n\r\n        var res1=await contract.methods.listAllLeaseIds().call()    //array of leaseIds\r\n\r\n\r\n        res1.forEach( leaseId=> {\r\n\r\n        promises.push(contract.methods.getLeaseData(leaseId).call().then(lease_info=>{\r\n      \r\n          id=id+1\r\n    \r\n         var new_object={\"id\":id,\"leaseId\":leaseId,\"uid\":lease_info.uid,\"landlordName\":lease_info.landlordName,\"home_addr\":lease_info.home_addr,\"lease_expiry\":lease_info.timestamp,\"price\":lease_info.value}\r\n        arr_object.push(new_object)\r\n\r\n\r\n        }))\r\n     \r\n        })\r\n        return Promise.all(promises).then(done=>{\r\n        //console.log(arr_object)\r\n        setArr(arr_object)\r\n        })\r\n        \r\n        \r\n        \r\n            \r\n        \r\n        \r\n        }\r\n\r\n    \r\n    const makePayment=async(leaseId)=>{\r\n\r\n      var contract=new web3js.eth.Contract(myContract.abi,myContract.contract_address)\r\n\r\n        const tenantName=\"Hafiz\"\r\n        const tenant_uid=\"3Hz1jaYhetOtRP3EvCPNHDCFpdw2\"\r\n\r\n        await contract.methods.makePayment(tenant_uid,leaseId,tenantName).send({\r\n        from:address\r\n    })\r\n    }\r\n\r\n\r\n        useEffect(()=>{\r\n\r\n         listLease();\r\n\r\n\r\n        },[])\r\n\r\n\r\n        \r\n    \r\n    return (  \r\n\r\n\r\n        \r\n        <div className=\"home\">\r\n         <NavBarTenant />\r\n         {\r\n       final_arr_object&&\r\n       final_arr_object.map(object => (\r\n        <div className=\"blog-preview\" key={object.id} >\r\n          <h2>{ object.leaseId }</h2>\r\n          <p> { object.landlordName }</p>\r\n          <p> { object.home_addr }</p>\r\n          <p> { object.lease_expiry }</p>\r\n          <p> { object.price/Math.pow(10,18) }</p>\r\n          <p>\r\n        \r\n        <Button\r\n          onClick={() => makePayment(object.leaseId) }\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          \r\n        >\r\n          Make Payment\r\n        </Button></p>\r\n        </div>\r\n      ))}\r\n     \r\n    </div>\r\n\r\n     \r\n\r\n\r\n\r\n\r\n    );\r\n}\r\n \r\nexport default ViewLeases;","import { useStoreApi } from \"../store/storeApi\";\r\nimport useWeb3 from \"../utils/useWeb3\";\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport {useEffect,useState} from 'react';\r\nimport NavBarTenant from \"./NavBarTenant\";\r\n\r\n\r\n\r\nimport uuid from \"uuid/v4\";\r\n\r\nconst myContract=require('../contracts/houseLeaseConfig.json');\r\n\r\n\r\nconst TenantPage = () => {\r\n    \r\n    \r\n\r\n\r\n        \r\n    \r\n    return (  \r\n\r\n\r\n        \r\n        <div className=\"home\">\r\n       <NavBarTenant />\r\n         <p>Welcome to House Lease.Choose your leases.</p>\r\n     \r\n    </div>\r\n\r\n     \r\n\r\n\r\n\r\n\r\n    );\r\n}\r\n \r\nexport default TenantPage;","import { useStoreApi } from \"../store/storeApi\";\r\nimport useWeb3 from \"../utils/useWeb3\";\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport {useEffect,useState} from 'react';\r\nimport NavBarOwner from \"./NavBarLandlord\";\r\n\r\n\r\n\r\nimport uuid from \"uuid/v4\";\r\n\r\nconst myContract=require('../contracts/houseLeaseConfig.json');\r\n\r\n\r\nconst LandlordPage = () => {\r\n    \r\n    \r\n\r\n\r\n        \r\n    \r\n    return (  \r\n\r\n\r\n        \r\n        <div className=\"home\">\r\n      <NavBarOwner />\r\n         <p>Welcome to House Lease.Lets create your lease.</p>\r\n     \r\n    </div>\r\n\r\n     \r\n\r\n\r\n\r\n\r\n    );\r\n}\r\n \r\nexport default LandlordPage;","import { useStoreApi } from \"../store/storeApi\";\r\nimport useWeb3 from \"../utils/useWeb3\";\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport {useEffect,useState} from 'react';\r\nimport Web3 from \"web3\";\r\nimport NavBarOwner from \"../pages/NavBarLandlord\";\r\n\r\n\r\nimport uuid from \"uuid/v4\";\r\n\r\nconst myContract=require('../contracts/houseLeaseConfig.json');\r\n\r\n\r\nconst ViewOwnerLeases = () => {\r\n    \r\n    const { balance, address, message, setAddress, setBalance,settokenBalance,tokenBalance } = useStoreApi();\r\n    const web3js = useWeb3();\r\n    var web3;\r\n    \r\n    const [final_arr_object,setArr]=useState(null);\r\n\r\n    const listOwnerLease=async()=>{\r\n\r\n      \r\n    if (window.ethereum) {\r\n      // set up a new provider\r\n      try {\r\n         web3 = new Web3(window.ethereum);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    } else if (window.web3) {\r\n       web3 = new Web3(window.web3);\r\n    }\r\n    \r\n        //abi and contract address\r\n        var contract=new web3.eth.Contract(myContract.abi,myContract.contract_address)\r\n        \r\n       \r\n        \r\n        \r\n        var id=0\r\n        var promises=[];\r\n        var arr_object=[];\r\n        const owner_uid=\"3BmVMJhUffhBdL0aOvYuBzngIRp1\"\r\n\r\n        var res1=await contract.methods.listLandlordLeaseIds(owner_uid).call()    //array of leaseIds\r\n\r\n\r\n        res1.forEach( array=> {\r\n\r\n        promises.push(contract.methods.getLeaseData(array.leaseId).call().then(lease_info=>{\r\n      \r\n          id=id+1\r\n    \r\n         var new_object={\"id\":id,\"leaseId\":array.leaseId,\"home_addr\":lease_info.home_addr,\"lease_expiry\":lease_info.timestamp,\"price\":lease_info.value}\r\n        arr_object.push(new_object)\r\n\r\n\r\n        }))\r\n     \r\n        })\r\n        return Promise.all(promises).then(done=>{\r\n        //console.log(arr_object)\r\n        setArr(arr_object)\r\n        })\r\n        \r\n        \r\n        \r\n            \r\n        \r\n        \r\n        }\r\n\r\n\r\n    const setDoorCode=async(e,lease_id)=>{\r\n\r\n        e.preventDefault();\r\n        const door_code=e.target[0].value\r\n        var contract=new web3js.eth.Contract(myContract.abi,myContract.contract_address)\r\n\r\n\r\n\r\n        await contract.methods.giveDoorCode(door_code,lease_id).send({\r\n        from:address\r\n            })\r\n        \r\n        \r\n        }\r\n\r\n    \r\n    \r\n\r\n\r\n        useEffect(()=>{\r\n\r\n         listOwnerLease();\r\n\r\n\r\n        },[])\r\n\r\n\r\n        \r\n    \r\n    return (  \r\n\r\n\r\n        \r\n        <div className=\"home\">\r\n         <NavBarOwner />\r\n         {\r\n       final_arr_object&&\r\n       final_arr_object.map(object => (\r\n        <div className=\"blog-preview\" key={object.id} >\r\n          <h2>{ object.leaseId }</h2>\r\n          <p> { object.home_addr }</p>\r\n          <p> { object.lease_expiry }</p>\r\n          <p> { object.price/Math.pow(10,18) }</p>\r\n          <p>\r\n        \r\n        <Button\r\n          //onClick={() =>  }\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          \r\n        >\r\n          Delete Lease\r\n        </Button></p>\r\n         &nbsp;&nbsp;&nbsp;\r\n         <form onSubmit={e => setDoorCode(e,object.leaseId)}>\r\n        <p>\r\n        <TextField\r\n            required\r\n            label=\"Door Code\"\r\n            inputProps={{ step: \"any\" }}\r\n            type=\"text\"\r\n            variant=\"filled\"\r\n          />\r\n          &nbsp;&nbsp;&nbsp;\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          \r\n        >\r\n          Send Door Code\r\n        </Button>\r\n        \r\n        \r\n        \r\n        </p>\r\n        \r\n        </form>\r\n        </div>\r\n      ))}\r\n     \r\n    </div>\r\n\r\n     \r\n\r\n\r\n\r\n\r\n    );\r\n}\r\n \r\nexport default ViewOwnerLeases;","import { useStoreApi } from \"../store/storeApi\";\r\nimport useWeb3 from \"../utils/useWeb3\";\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport NavBarTenant from \"./NavBarTenant\";\r\nimport {useEffect,useState} from 'react';\r\nimport Web3 from \"web3\";\r\n\r\n\r\nimport uuid from \"uuid/v4\";\r\n\r\nconst myContract=require('../contracts/houseLeaseConfig.json');\r\n\r\n\r\nconst GetDoorCode = () => {\r\n    \r\n    const { balance, address, message, setAddress, setBalance,settokenBalance,tokenBalance } = useStoreApi();\r\n    const tenant_uid=\"3Hz1jaYhetOtRP3EvCPNHDCFpdw2\"\r\n    const [door_code,setDoorCode]=useState(null);\r\n    var web3;\r\n\r\n    const getDoorCode=async ()=>{\r\n    \r\n        if (window.ethereum) {\r\n            // set up a new provider\r\n            try {\r\n               web3 = new Web3(window.ethereum);\r\n            } catch (error) {\r\n              console.error(error);\r\n            }\r\n          } else if (window.web3) {\r\n             web3 = new Web3(window.web3);\r\n          }\r\n        \r\n        \r\n          var contract=new web3.eth.Contract(myContract.abi,myContract.contract_address)\r\n\r\n          const lease_id=await contract.methods.tenants(tenant_uid).call()\r\n          \r\n          \r\n          const res1=await contract.methods.getDoorCode(tenant_uid,lease_id).call()\r\n        \r\n          setDoorCode(res1)\r\n        \r\n            \r\n        \r\n        \r\n        }\r\n\r\n\r\n        useEffect(()=>{\r\n\r\n            getDoorCode();\r\n   \r\n   \r\n           })\r\n    \r\n    return (  \r\n\r\n\r\n\r\n        <div className=\"home\">\r\n       <NavBarTenant />\r\n       <p>\r\n           {door_code}\r\n       </p>\r\n     \r\n    </div>\r\n\r\n     \r\n\r\n\r\n\r\n\r\n    );\r\n}\r\n \r\nexport default GetDoorCode;","\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport NavBar from \"./pages/NavBarGeneral\";\r\nimport Home from \"./pages/Home\";\r\nimport CreateLease from \"./pages/CreateLease\";\r\nimport ViewLeases from \"./pages/ViewLeases\";\r\nimport TenantPage from \"./pages/Tenant\";\r\nimport LandlordPage from \"./pages/Landlord\";\r\nimport ViewOwnerLease from \"./pages/ViewOwnerLease\";\r\nimport GetDoorCode from \"./pages/GetDoorCode\";\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\n\r\n//const BigInteger = require('jsbn').BigInteger;\r\n//import BigInteger from 'BigInt'\r\n\r\n\r\n\r\nfunction App() {\r\n    return (\r\n      <Router>\r\n        <div className=\"App\">\r\n          \r\n          <div className=\"content\">\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n                <Home />\r\n              </Route>\r\n              <Route exact path=\"/createLease\">\r\n                <CreateLease />\r\n              </Route>\r\n              <Route exact path=\"/viewLease\">\r\n                <ViewLeases />\r\n              </Route>\r\n              <Route exact path=\"/tenant\">\r\n                <TenantPage />\r\n              </Route>\r\n              <Route exact path=\"/landlord\">\r\n                <LandlordPage />\r\n              </Route>\r\n              <Route exact path=\"/viewOwnerLease\">\r\n                <ViewOwnerLease />\r\n              </Route>\r\n              <Route exact path=\"/getDoorCode\">\r\n                <GetDoorCode />\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n  \r\n  export default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App.js\";\r\nimport { StoreProvider } from \"./store/store\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <StoreProvider>\r\n      <App />\r\n    </StoreProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}